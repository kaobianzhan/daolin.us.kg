<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo博客文章首字母缩进方案</title>
    <url>/posts/b561d3ab.html</url>
    <content><![CDATA[<div class="post-summary-wrapper"><div class="summary-title"><span><i class="fa-solid fa-list"></i></span>
<span>文章摘要</span></div><div class="summary-content">本教程虽基于Hexo框架的NexT主题，但按理说应该通用Hexo框架所有主题。目前在Hexo框架NexT主题上采用此方案，是切实可行的。</div></div><span id="more"></span>


<h3 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h3><p><strong>1、在主题的CSS文件中添加P标签代码</strong></p>
<p><code>在blog/source/_data/styles.styl文件里添加下面的代码：</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 文章分段段落首行缩进两个字符 */</span><br><span class="line">.markdown-body,</span><br><span class="line">.prose,</span><br><span class="line">.post-body&gt; &#123;</span><br><span class="line">  p &#123;</span><br><span class="line">    text-indent: 2em;</span><br><span class="line">    margin:0em;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2、文章段落换空白行</strong></p>
<p>由于P标签仅对空白行段落起作用，所以写文章时需要在每个段落之间换一空白行。有两种情况写作时不需要换空白行：1、文章首段<sub>（即第一段）</sub>；2、文章中添加了段落标题<sub>（即###号）</sub>。</p>
<p><img src="https://images.weserv.nl/?url=https://s3.bmp.ovh/imgs/2025/01/05/50d5f081f27b254c.png"></p>
<center>
<mark class="label primary">示例图一</mark>
</center>
<br>

<p><img src="https://images.weserv.nl/?url=https://s3.bmp.ovh/imgs/2025/01/05/1c9d3ded77adb8a0.png"></p>
<center>
<mark class="label success">示例图二</mark>
</center>

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><strong>首字母缩进，可以使文章段落层次更加清晰明了。</strong></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>博客搭建</tag>
        <tag>主题配置</tag>
        <tag>经验技巧</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT主题归档、分类、标签页面中引入ECharts统计图</title>
    <url>/posts/3273572b.html</url>
    <content><![CDATA[<div class="post-summary-wrapper"><div class="summary-title"><span><i class="fa-solid fa-list"></i></span>
<span>文章摘要</span></div><div class="summary-content">本教程主要针对Hexo框架的NexT主题，在博客的归档、分类、标签页面中引入ECharts统计图。</div></div><span id="more"></span>


<mark class="label primary">效果图</mark>

<p><img src="https://images.weserv.nl/?url=https://s3.bmp.ovh/imgs/2025/01/06/668943c5a317f872.png"></p>
<p><img src="https://images.weserv.nl/?url=https://s3.bmp.ovh/imgs/2025/01/06/668943c5a317f872.png"></p>
<p><img src="https://images.weserv.nl/?url=https://s3.bmp.ovh/imgs/2025/01/06/668943c5a317f872.png"></p>
<h3 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h3><p><strong>1.下载cheerio插件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i cheerio --save</span><br></pre></td></tr></table></figure>

<p><strong>2、创建一个charts.js</strong></p>
<p><code>在blog/themes/next/scripts/helpers文件夹里新建一个charts.js文件，然后复制粘贴下面的代码：</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const cheerio = require(&#x27;cheerio&#x27;)</span><br><span class="line">const moment = require(&#x27;moment&#x27;)</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register(&#x27;after_render:html&#x27;, function (locals) &#123;</span><br><span class="line">  const $ = cheerio.load(locals)</span><br><span class="line">  const post = $(&#x27;#posts-chart&#x27;)</span><br><span class="line">  const tag = $(&#x27;#tags-chart&#x27;)</span><br><span class="line">  const category = $(&#x27;#categories-chart&#x27;)</span><br><span class="line">  const htmlEncode = false</span><br><span class="line"></span><br><span class="line">  if (post.length &gt; 0 || tag.length &gt; 0 || category.length &gt; 0) &#123;</span><br><span class="line">    if (post.length &gt; 0 &amp;&amp; $(&#x27;#postsChart&#x27;).length === 0) &#123;</span><br><span class="line">      if (post.attr(&#x27;data-encode&#x27;) === &#x27;true&#x27;) htmlEncode = true</span><br><span class="line">      post.after(postsChart(post.attr(&#x27;data-start&#x27;)))</span><br><span class="line">    &#125;</span><br><span class="line">    if (tag.length &gt; 0 &amp;&amp; $(&#x27;#tagsChart&#x27;).length === 0) &#123;</span><br><span class="line">      if (tag.attr(&#x27;data-encode&#x27;) === &#x27;true&#x27;) htmlEncode = true</span><br><span class="line">      tag.after(tagsChart(tag.attr(&#x27;data-length&#x27;)))</span><br><span class="line">    &#125;</span><br><span class="line">    if (category.length &gt; 0 &amp;&amp; $(&#x27;#categoriesChart&#x27;).length === 0) &#123;</span><br><span class="line">      if (category.attr(&#x27;data-encode&#x27;) === &#x27;true&#x27;) htmlEncode = true</span><br><span class="line">      category.after(categoriesChart(category.attr(&#x27;data-parent&#x27;)))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (htmlEncode) &#123;</span><br><span class="line">      return $.root().html().replace(/&amp;amp;#/g, &#x27;&amp;#&#x27;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return $.root().html()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return locals</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, 15)</span><br><span class="line"></span><br><span class="line">function postsChart (startMonth) &#123;</span><br><span class="line">  const startDate = moment(startMonth || &#x27;2020-01&#x27;)</span><br><span class="line">  const endDate = moment()</span><br><span class="line"></span><br><span class="line">  const monthMap = new Map()</span><br><span class="line">  const dayTime = 3600 * 24 * 1000</span><br><span class="line">  for (let time = startDate; time &lt;= endDate; time += dayTime) &#123;</span><br><span class="line">    const month = moment(time).format(&#x27;YYYY-MM&#x27;)</span><br><span class="line">    if (!monthMap.has(month)) &#123;</span><br><span class="line">      monthMap.set(month, 0)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  hexo.locals.get(&#x27;posts&#x27;).forEach(function (post) &#123;</span><br><span class="line">    const month = post.date.format(&#x27;YYYY-MM&#x27;)</span><br><span class="line">    if (monthMap.has(month)) &#123;</span><br><span class="line">      monthMap.set(month, monthMap.get(month) + 1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  const monthArr = JSON.stringify([...monthMap.keys()])</span><br><span class="line">  const monthValueArr = JSON.stringify([...monthMap.values()])</span><br><span class="line"></span><br><span class="line">  return `</span><br><span class="line">  &lt;script id=&quot;postsChart&quot;&gt;</span><br><span class="line">    var color = &#x27;#007AFF&#x27;</span><br><span class="line">    var postsChart = echarts.init(document.getElementById(&#x27;posts-chart&#x27;), &#x27;light&#x27;);</span><br><span class="line">    var postsOption = &#123;</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: &#x27;文章发布统计图&#x27;,</span><br><span class="line">        x: &#x27;center&#x27;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      tooltip: &#123;</span><br><span class="line">        trigger: &#x27;axis&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        name: &#x27;日期&#x27;,</span><br><span class="line">        type: &#x27;category&#x27;,</span><br><span class="line">        boundaryGap: false,</span><br><span class="line">        nameTextStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLine: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          lineStyle: &#123;</span><br><span class="line">            color: color</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        data: $&#123;monthArr&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;value&#x27;,</span><br><span class="line">        nameTextStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        splitLine: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLine: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          lineStyle: &#123;</span><br><span class="line">            color: color</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      series: [&#123;</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;line&#x27;,</span><br><span class="line">        smooth: true,</span><br><span class="line">        lineStyle: &#123;</span><br><span class="line">            width: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        showSymbol: false,</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">          opacity: 1,</span><br><span class="line">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span><br><span class="line">            offset: 0,</span><br><span class="line">            color: &#x27;rgba(128, 255, 165)&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            offset: 1,</span><br><span class="line">            color: &#x27;rgba(1, 191, 236)&#x27;</span><br><span class="line">          &#125;])</span><br><span class="line">        &#125;,</span><br><span class="line">        areaStyle: &#123;</span><br><span class="line">          opacity: 1,</span><br><span class="line">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span><br><span class="line">            offset: 0,</span><br><span class="line">            color: &#x27;rgba(128, 255, 165)&#x27;</span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            offset: 1,</span><br><span class="line">            color: &#x27;rgba(1, 191, 236)&#x27;</span><br><span class="line">          &#125;])</span><br><span class="line">        &#125;,</span><br><span class="line">        data: $&#123;monthValueArr&#125;,</span><br><span class="line">        markLine: &#123;</span><br><span class="line">          data: [&#123;</span><br><span class="line">            name: &#x27;平均值&#x27;,</span><br><span class="line">            type: &#x27;average&#x27;,</span><br><span class="line">            label: &#123;</span><br><span class="line">              color: color</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line">    postsChart.setOption(postsOption);</span><br><span class="line">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span><br><span class="line">      postsChart.resize();</span><br><span class="line">    &#125;);</span><br><span class="line">    postsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span><br><span class="line">      if (event.componentType === &#x27;series&#x27;) window.location.href = &#x27;/archives/&#x27; + event.name.replace(&#x27;-&#x27;, &#x27;/&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function tagsChart (len) &#123;</span><br><span class="line">  const tagArr = []</span><br><span class="line">  hexo.locals.get(&#x27;tags&#x27;).map(function (tag) &#123;</span><br><span class="line">    tagArr.push(&#123; name: tag.name, value: tag.length, path: tag.path &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  tagArr.sort((a, b) =&gt; &#123; return b.value - a.value &#125;)</span><br><span class="line"></span><br><span class="line">  const dataLength = Math.min(tagArr.length, len) || tagArr.length</span><br><span class="line">  const tagNameArr = []</span><br><span class="line">  for (let i = 0; i &lt; dataLength; i++) &#123;</span><br><span class="line">    tagNameArr.push(tagArr[i].name)</span><br><span class="line">  &#125;</span><br><span class="line">  const tagNameArrJson = JSON.stringify(tagNameArr)</span><br><span class="line">  const tagArrJson = JSON.stringify(tagArr)</span><br><span class="line"></span><br><span class="line">  return `</span><br><span class="line">  &lt;script id=&quot;tagsChart&quot;&gt;</span><br><span class="line">    var color = &#x27;#007AFF&#x27;</span><br><span class="line">    var tagsChart = echarts.init(document.getElementById(&#x27;tags-chart&#x27;), &#x27;light&#x27;);</span><br><span class="line">    var tagsOption = &#123;</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: &#x27;Top $&#123;dataLength&#125; 标签统计图&#x27;,</span><br><span class="line">        x: &#x27;center&#x27;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      tooltip: &#123;&#125;,</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        name: &#x27;标签&#x27;,</span><br><span class="line">        type: &#x27;category&#x27;,</span><br><span class="line">        nameTextStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          color: color,</span><br><span class="line">          interval: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLine: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          lineStyle: &#123;</span><br><span class="line">            color: color</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        data: $&#123;tagNameArrJson&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;value&#x27;,</span><br><span class="line">        splitLine: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        nameTextStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisTick: &#123;</span><br><span class="line">          show: false</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLabel: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          color: color</span><br><span class="line">        &#125;,</span><br><span class="line">        axisLine: &#123;</span><br><span class="line">          show: true,</span><br><span class="line">          lineStyle: &#123;</span><br><span class="line">            color: color</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      series: [&#123;</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;bar&#x27;,</span><br><span class="line">        data: $&#123;tagArrJson&#125;,</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">          borderRadius: [5, 5, 0, 0],</span><br><span class="line">          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span><br><span class="line">            offset: 0,</span><br><span class="line">            color: &#x27;rgba(128, 255, 165)&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            offset: 1,</span><br><span class="line">            color: &#x27;rgba(1, 191, 236)&#x27;</span><br><span class="line">          &#125;])</span><br><span class="line">        &#125;,</span><br><span class="line">        emphasis: &#123;</span><br><span class="line">          itemStyle: &#123;</span><br><span class="line">            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;</span><br><span class="line">              offset: 0,</span><br><span class="line">              color: &#x27;rgba(128, 255, 195)&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              offset: 1,</span><br><span class="line">              color: &#x27;rgba(1, 211, 255)&#x27;</span><br><span class="line">            &#125;])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        markLine: &#123;</span><br><span class="line">          data: [&#123;</span><br><span class="line">            name: &#x27;平均值&#x27;,</span><br><span class="line">            type: &#x27;average&#x27;,</span><br><span class="line">            label: &#123;</span><br><span class="line">              color: color</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line">    tagsChart.setOption(tagsOption);</span><br><span class="line">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span><br><span class="line">      tagsChart.resize();</span><br><span class="line">    &#125;);</span><br><span class="line">    tagsChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span><br><span class="line">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function categoriesChart (dataParent) &#123;</span><br><span class="line">  const categoryArr = []</span><br><span class="line">  let categoryParentFlag = false</span><br><span class="line">  hexo.locals.get(&#x27;categories&#x27;).map(function (category) &#123;</span><br><span class="line">    if (category.parent) categoryParentFlag = true</span><br><span class="line">    categoryArr.push(&#123;</span><br><span class="line">      name: category.name,</span><br><span class="line">      value: category.length,</span><br><span class="line">      path: category.path,</span><br><span class="line">      id: category._id,</span><br><span class="line">      parentId: category.parent || &#x27;0&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  categoryParentFlag = categoryParentFlag &amp;&amp; dataParent === &#x27;true&#x27;</span><br><span class="line">  categoryArr.sort((a, b) =&gt; &#123; return b.value - a.value &#125;)</span><br><span class="line">  function translateListToTree (data, parent) &#123;</span><br><span class="line">    let tree = []</span><br><span class="line">    let temp</span><br><span class="line">    data.forEach((item, index) =&gt; &#123;</span><br><span class="line">      if (data[index].parentId == parent) &#123;</span><br><span class="line">        let obj = data[index];</span><br><span class="line">        temp = translateListToTree(data, data[index].id);</span><br><span class="line">        if (temp.length &gt; 0) &#123;</span><br><span class="line">          obj.children = temp</span><br><span class="line">        &#125;</span><br><span class="line">        if (tree.indexOf())</span><br><span class="line">          tree.push(obj)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    return tree</span><br><span class="line">  &#125;</span><br><span class="line">  const categoryNameJson = JSON.stringify(categoryArr.map(function (category) &#123; return category.name &#125;))</span><br><span class="line">  const categoryArrJson = JSON.stringify(categoryArr)</span><br><span class="line">  const categoryArrParentJson = JSON.stringify(translateListToTree(categoryArr, &#x27;0&#x27;))</span><br><span class="line"></span><br><span class="line">  return `</span><br><span class="line">  &lt;script id=&quot;categoriesChart&quot;&gt;</span><br><span class="line">    var color = &#x27;#007AFF&#x27;</span><br><span class="line">    var categoriesChart = echarts.init(document.getElementById(&#x27;categories-chart&#x27;), &#x27;light&#x27;);</span><br><span class="line">    var categoryParentFlag = $&#123;categoryParentFlag&#125;</span><br><span class="line">    var categoriesOption = &#123;</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: &#x27;文章分类统计图&#x27;,</span><br><span class="line">        x: &#x27;center&#x27;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      legend: &#123;</span><br><span class="line">        top: &#x27;bottom&#x27;,</span><br><span class="line">        data: $&#123;categoryNameJson&#125;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          color: color</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      tooltip: &#123;</span><br><span class="line">        trigger: &#x27;item&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      series: []</span><br><span class="line">    &#125;;</span><br><span class="line">    categoriesOption.series.push(</span><br><span class="line">      categoryParentFlag ? </span><br><span class="line">      &#123;</span><br><span class="line">        nodeClick :false,</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;sunburst&#x27;,</span><br><span class="line">        radius: [&#x27;15%&#x27;, &#x27;90%&#x27;],</span><br><span class="line">        center: [&#x27;50%&#x27;, &#x27;55%&#x27;],</span><br><span class="line">        sort: &#x27;desc&#x27;,</span><br><span class="line">        data: $&#123;categoryArrParentJson&#125;,</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">          borderColor: &#x27;#fff&#x27;,</span><br><span class="line">          borderWidth: 2,</span><br><span class="line">          emphasis: &#123;</span><br><span class="line">            focus: &#x27;ancestor&#x27;,</span><br><span class="line">            shadowBlur: 10,</span><br><span class="line">            shadowOffsetX: 0,</span><br><span class="line">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      :</span><br><span class="line">      &#123;</span><br><span class="line">        name: &#x27;文章篇数&#x27;,</span><br><span class="line">        type: &#x27;pie&#x27;,</span><br><span class="line">        radius: [30, 80],</span><br><span class="line">        roseType: &#x27;area&#x27;,</span><br><span class="line">        label: &#123;</span><br><span class="line">          color: color,</span><br><span class="line">          formatter: &#x27;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        data: $&#123;categoryArrJson&#125;,</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">          emphasis: &#123;</span><br><span class="line">            shadowBlur: 10,</span><br><span class="line">            shadowOffsetX: 0,</span><br><span class="line">            shadowColor: &#x27;rgba(255, 255, 255, 0.5)&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    categoriesChart.setOption(categoriesOption);</span><br><span class="line">    window.addEventListener(&#x27;resize&#x27;, () =&gt; &#123; </span><br><span class="line">      categoriesChart.resize();</span><br><span class="line">    &#125;);</span><br><span class="line">    categoriesChart.on(&#x27;click&#x27;, &#x27;series&#x27;, (event) =&gt; &#123;</span><br><span class="line">      if(event.data.path) window.location.href = &#x27;/&#x27; + event.data.path;</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3、引入ECharts.js</strong></p>
<p><code>在blog/themes/next/layout文件夹中找到_layout.njk文件，然后在&lt; title &gt;的下面引入js代码:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;title&gt;&#123;% block title %&#125;&#123;% endblock %&#125;&lt;/title&gt;(在此处下面引入js代码)</span><br><span class="line">&lt;script src=&quot;https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>4、引入统计图</strong></p>
<blockquote>
<p>归档页引入统计图</p>
</blockquote>
<p><code>在blog/themes/next/layout文件夹中找到archive.njk文件，然后在post-block下面引入统计图<sub>（时间可自行调整）</sub>:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;post-block&quot;&gt;(在此处下面引入归档统计图代码)</span><br><span class="line">&lt;div id=&quot;posts-chart&quot; data-start=&quot;2024-01&quot; style=&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>在分类页使用统计图</p>
</blockquote>
<p><code>在blog/themes/next/layout文件夹中找到page.njk文件，然后在categories下面引入分类统计图代码:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% elif page.type === &#x27;categories&#x27; %&#125;（在此处下面引入分类统计图代码）</span><br><span class="line">&lt;div id=&quot;categories-chart&quot; data-parent=&quot;true&quot; style=&quot;height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>在标签页使用统计图</p>
</blockquote>
<p><code>在blog/themes/next/layout文件夹中找到page.njk文件，然后在tags下面引入标签统计图代码:</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;%- if page.type === &#x27;tags&#x27; %&#125;（在此处下面引入标签统计图代码）</span><br><span class="line">&lt;div id=&quot;tags-chart&quot; data-length=&quot;10&quot; style=&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1、分类和标签不宜添加太多；</p>
<p>2、主题开启pjax后，会导致ECharts统计图表不显示，所以要关闭pjax。在blog&#x2F;_config.next.yml中找到pjax，将pjax后面的true设为false<sub>（没开启pjax的，可以忽略此项）</sub>。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Easily enable fast Ajax navigation on your website.</span><br><span class="line"># For more information: https://github.com/next-theme/pjax</span><br><span class="line">pjax: false</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>NexT主题</category>
      </categories>
      <tags>
        <tag>博客搭建</tag>
        <tag>主题配置</tag>
        <tag>经验技巧</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT主题添加卡片网格友链</title>
    <url>/posts/5061af98.html</url>
    <content><![CDATA[<div class="post-summary-wrapper"><div class="summary-title"><span><i class="fa-solid fa-list"></i></span>
<span>文章摘要</span></div><div class="summary-content">本教程虽基于Hexo框架的NexT主题，理论上Hexo框架其它主题也能用。对于NexT主题，将CSS代码放在styles.styl文件里，可以在你的任意一篇文章中插入卡片网格友链。如果是将CSS代码添加到友链的index.md文件中，那就只能在友链中使用。</div></div><span id="more"></span>

<h3 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h3><p><strong>1、主题CSS文件中添加代码</strong></p>
<p><code>在blog/source/_data/styles.styl文件里添加下面的代码：</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* 卡片网格友链 */</span><br><span class="line">.polaroid &#123;</span><br><span class="line">    width: 30%;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    box-shadow: 0 4px 8px 0 rgb(0 0 0 / 20%), 0 6px 20px 0 rgb(0 0 0 / 19%);</span><br><span class="line">    margin-bottom: 25px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.card-grid &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.posts-expand .post-body img &#123;</span><br><span class="line">    margin: 0 auto 25px;</span><br><span class="line">&#125;</span><br><span class="line">.posts-expand .post-body img &#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    padding: 3px;</span><br><span class="line">    border: 1px solid #ddd;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line">img &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    max-width: 100%;</span><br><span class="line">    height: auto;</span><br><span class="line">&#125;</span><br><span class="line">img &#123;</span><br><span class="line">    overflow-clip-margin: content-box;</span><br><span class="line">    overflow: clip;</span><br><span class="line">&#125;</span><br><span class="line">.containery &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    padding: 10px 20px;</span><br><span class="line">&#125;</span><br><span class="line">.btn &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 0 20px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: #555;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border: 2px solid #555;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    border-radius: 2px;</span><br><span class="line">    transition-property: background-color;</span><br><span class="line">    transition-duration: 0.2s;</span><br><span class="line">    transition-timing-function: ease-in-out;</span><br><span class="line">    transition-delay: 0s;</span><br><span class="line">    line-height: 2;</span><br><span class="line">&#125;</span><br><span class="line">.btn:hover &#123;</span><br><span class="line">    background-color: #87CEFA;</span><br><span class="line">&#125;</span><br><span class="line">a &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    word-wrap: break-word;</span><br><span class="line">&#125;</span><br><span class="line">a:-webkit-any-link &#123;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.containery p &#123;</span><br><span class="line">    margin: 15px 0 10px 0;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-block-start: 1em;</span><br><span class="line">    margin-block-end: 1em;</span><br><span class="line">    margin-inline-start: 0px;</span><br><span class="line">    margin-inline-end: 0px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2、创建links文件夹及index.md文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page links</span><br></pre></td></tr></table></figure>

<p><code>在blog/source/links/index.md文件里添加下面的代码：</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友链</span><br><span class="line">date: 2025-02-14 10:56:09</span><br><span class="line">---</span><br><span class="line">&lt;div class=&quot;card-grid&quot;&gt;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">    &lt;div class=&quot;polaroid&quot;&gt;  </span><br><span class="line">        &lt;img src=&quot;http://dlgz.us.kg/images/avatar.gif&quot; alt=&quot;Norway&quot; style=&quot;width:100%&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;containery&quot;&gt; </span><br><span class="line">            &lt;a href=&quot;http://dlgz.us.kg/&quot; target=&quot;_blank&quot; class=&quot;btn btn-outline btn-warning dim&quot;&gt;家乡印象⛽&lt;/a&gt; </span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;博客&lt;/span&gt; </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt; </span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&amp;nbsp;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">    &lt;div class=&quot;polaroid&quot;&gt;  </span><br><span class="line">        &lt;img src=&quot;https://lisenhui.cn/imgs/avatar.png&quot; alt=&quot;Norway&quot; style=&quot;width:100%&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;containery&quot;&gt; </span><br><span class="line">            &lt;a href=&quot;https://lisenhui.cn/&quot; target=&quot;_blank&quot; class=&quot;btn btn-outline btn-warning dim&quot;&gt;热爱生活与梦想&lt;/a&gt; </span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;主题大佬&lt;/span&gt;</span><br><span class="line">                     &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;Hugo&lt;/span&gt; </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&amp;nbsp;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">    &lt;div class=&quot;polaroid&quot;&gt;  </span><br><span class="line">        &lt;img src=&quot;https://sourcebucket.s3.bitiful.net/img/avatar.webp&quot; alt=&quot;Norway&quot; style=&quot;width:100%&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;containery&quot;&gt; </span><br><span class="line">            &lt;a href=&quot;https://www.fomal.cc/&quot; target=&quot;_blank&quot; class=&quot;btn btn-outline btn-warning dim&quot;&gt;Fomalhaut&lt;/a&gt; </span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;博客&lt;/span&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&amp;nbsp;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">    &lt;div class=&quot;polaroid&quot;&gt;  </span><br><span class="line">        &lt;img src=&quot;https://ik.imagekit.io/bennyxguo/ObsidianestLogo-hex_hecqbw.png?updatedAt=1692679397324&quot; alt=&quot;Norway&quot; style=&quot;width:100%&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;containery&quot;&gt; </span><br><span class="line">            &lt;a href=&quot;https://tridiamond.tech/&quot; target=&quot;_blank&quot; class=&quot;btn btn-outline btn-warning dim&quot;&gt;三钻&lt;/a&gt; </span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;主题大佬&lt;/span&gt;</span><br><span class="line">                    &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;Hexo&lt;/span&gt;     </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果想点击头像进行跳转，需要用〈a〉〈&#x2F;a〉将图片包裹起来，如下所示：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;span&gt;</span><br><span class="line">    &lt;div class=&quot;polaroid&quot;&gt;  </span><br><span class="line">        &lt;a href=&quot;http://dlgz.us.kg/&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://dlgz.us.kg/images/avatar.gif&quot; alt=&quot;Norway&quot; style=&quot;width:100%&quot;&gt;&lt;/a&gt;</span><br><span class="line">        &lt;div class=&quot;containery&quot;&gt; </span><br><span class="line">            &lt;a href=&quot;http://dlgz.us.kg/&quot; target=&quot;_blank&quot; class=&quot;btn btn-outline btn-warning dim&quot;&gt;家乡印象⛽&lt;/a&gt; </span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;span&gt;&lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt;&amp;nbsp;博客&lt;/span&gt; </span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;  </span><br><span class="line">    &lt;/div&gt; </span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<p><strong>3、主题配置文件菜单栏添加友链项目</strong></p>
<p><code>在blog/_config.next.yml文件中添加下面的内容：</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  links: /links/ || fa fa-link</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Hexo博客</category>
      </categories>
      <tags>
        <tag>博客搭建</tag>
        <tag>主题配置</tag>
        <tag>经验技巧</tag>
      </tags>
  </entry>
</search>
